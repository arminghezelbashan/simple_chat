{"version":3,"sources":["components/Message.js","components/MessagesPane.js","components/MessageInput.js","components/UserRow.js","components/UserSeparator.js","components/UsersPane.js","components/ErrorMessage.js","components/AppContainer.js","App.js","index.js"],"names":["styles","bubble","backgroundColor","padding","borderRadius","display","bubbleUser","color","container","innerContainer","alignItems","innerContainerUser","flexDirection","text","timestamp","fontSize","marginLeft","marginRight","whiteSpace","user","marginBottom","userUser","textAlign","Message","username","isUser","message","userColor","style","width","height","overflowY","minHeight","justifyContent","MessagesPane","messages","containerRef","createRef","useEffect","current","scrollTop","Number","MAX_SAFE_INTEGER","ref","messageComponents","counter","forEach","m","push","getMessageComponents","textInput","flex","wrap","outline","resize","maxHeight","border","borderColor","fontFamily","sendButton","MessageInput","onSendMessage","textAreaRef","useState","currentText","setCurrentText","textAreaHeight","setTextAreaHeight","trim","handleSend","value","placeholder","onInput","emojiMap","emoji","replaceAll","scrollHeight","onKeyDown","e","which","className","onClick","maxWidth","wordWrap","overflowWrap","UserRow","separator","borderStyle","borderWidth","UserSeparator","props","paddingTop","UsersPane","users","userComponents","pop","getUserComponents","ErrorMessage","errorMessage","chatContainer","chatHistory","inputContainer","mainContainer","margin","overflow","screen","usersContainer","AppContainer","socket","setSocket","setUsername","setMessages","connectedUsers","setConnectedUsers","setErrorMessage","socketIOClient","disconnect","cookieUsername","getCookie","emit","command","data","cookieColor","on","setCookie","setTimeout","name","searchParam","cookiesList","document","cookie","split","i","length","startsWith","substring","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c9b740d0.chunk.js","sourcesContent":["import React from \"react\";\n\nconst styles = {\n  bubble: {\n    backgroundColor: \"#d7d7d7\",\n    padding: \"5px 10px\",\n    borderRadius: 15,\n    display: \"inline-block\",\n  },\n  bubbleUser: {\n    backgroundColor: \"#147efb\",\n    padding: \"5px 10px\",\n    borderRadius: 15,\n    display: \"inline-block\",\n    color: \"#fff\",\n  },\n  container: {\n    padding: \"5px 10px\",\n  },\n  innerContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  innerContainerUser: {\n    display: \"flex\",\n    flexDirection: \"row-reverse\",\n    alignItems: \"center\",\n  },\n  text: {},\n  timestamp: {\n    fontSize: 10,\n    marginLeft: 5,\n    marginRight: 5,\n    color: \"#797979\",\n    whiteSpace: \"nowrap\",\n  },\n  user: {\n    marginLeft: 15,\n    marginBottom: 2,\n    fontSize: 10,\n  },\n  userUser: {\n    marginRight: 15,\n    marginBottom: 2,\n    fontSize: 10,\n    textAlign: \"right\",\n  },\n};\n\nfunction Message({ username, isUser, timestamp, message, userColor }) {\n  return (\n    <div style={styles.container}>\n      <div\n        style={\n          isUser\n            ? { color: userColor, ...styles.userUser }\n            : { color: userColor, ...styles.user }\n        }\n      >\n        {username}\n      </div>\n      <div style={isUser ? styles.innerContainerUser : styles.innerContainer}>\n        <div style={isUser ? styles.bubbleUser : styles.bubble}>\n          <span style={styles.text}>{message}</span>\n        </div>\n        <div style={styles.timestamp}>{timestamp}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default Message;\n","import React, { createRef, useEffect } from \"react\";\nimport Message from \"./Message\";\n\nconst styles = {\n  container: {\n    backgroundColor: \"rgba(255, 255, 255, 0.6)\",\n    width: \"100%\",\n    height: \"100%\",\n    borderRadius: 25,\n    overflowY: \"auto\",\n  },\n  innerContainer: {\n    minHeight: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"flex-end\",\n  },\n};\n\nfunction MessagesPane({ messages, username }) {\n  const containerRef = createRef();\n\n  useEffect(() => {\n    containerRef.current.scrollTop = Number.MAX_SAFE_INTEGER;\n  });\n\n  const getMessageComponents = () => {\n    let messageComponents = [];\n    let counter = 0;\n    messages.forEach((m) => {\n      messageComponents.push(\n        <Message\n          key={counter}\n          message={m.message}\n          isUser={m.username === username}\n          username={m.username}\n          timestamp={m.timestamp}\n          userColor={m.color}\n        />\n      );\n      counter += 1;\n    });\n    return messageComponents;\n  };\n\n  return (\n    <div style={styles.container} ref={containerRef}>\n      <div style={styles.innerContainer}>{getMessageComponents()}</div>\n    </div>\n  );\n}\n\nexport default MessagesPane;\n","import React, { createRef, useState, useEffect } from \"react\";\n\nconst styles = {\n  container: {\n    display: \"flex\",\n    padding: 20,\n    alignItems: \"flex-end\",\n  },\n  textInput: {\n    flex: 1,\n    wrap: \"soft\",\n    outline: \"none\",\n    resize: \"none\",\n    padding: 10,\n    borderRadius: 25,\n    maxHeight: 100,\n    backgroundColor: \"rgba(255, 255, 255, 0.6)\",\n    border: \"1px solid\",\n    borderColor: \"#9f9f9f\",\n    fontFamily: \"sans-serif\",\n  },\n  sendButton: {\n    marginLeft: 20,\n    borderRadius: 25,\n    width: 75,\n    outline: \"none\",\n    border: \"1px solid\",\n    borderColor: \"#9f9f9f\",\n    color: \"#fff\",\n    fontFamily: \"sans-serif\",\n    height: 37,\n  },\n};\n\nfunction MessageInput({ onSendMessage }) {\n  const textAreaRef = createRef();\n  const [currentText, setCurrentText] = useState(\"\");\n  const [textAreaHeight, setTextAreaHeight] = useState(15);\n\n  useEffect(() => {\n    if (!currentText.trim()) {\n      setTextAreaHeight(15);\n      setCurrentText(\"\");\n    }\n  });\n\n  const handleInput = () => {\n    const emojiMap = {\n      \":)\": \"\\uD83D\\uDE01\",\n      \":(\": \"\\uD83D\\uDE41\",\n      \":'D\": \"\\uD83D\\uDE02\",\n      \":'(\": \"\\uD83D\\uDE22\",\n      \":o\": \"\\uD83D\\uDE32\",\n    };\n    let currentText = textAreaRef.current.value;\n    for (const emoji in emojiMap) {\n      currentText = currentText.replaceAll(emoji, emojiMap[emoji]);\n    }\n\n    setCurrentText(currentText);\n    setTextAreaHeight(textAreaRef.current.scrollHeight - 20);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.which === 13) {\n      handleSend();\n    }\n  };\n\n  const handleSend = () => {\n    onSendMessage(currentText);\n    setCurrentText(\"\");\n    setTextAreaHeight(15);\n  };\n\n  return (\n    <div style={styles.container}>\n      <textarea\n        style={{ height: textAreaHeight, ...styles.textInput }}\n        value={currentText}\n        placeholder=\"Enter Message...\"\n        ref={textAreaRef}\n        onInput={handleInput}\n        onKeyDown={handleKeyDown}\n      />\n      <button\n        className=\"sendMessageButton\"\n        style={styles.sendButton}\n        onClick={handleSend}\n      >\n        Send\n      </button>\n    </div>\n  );\n}\n\nexport default MessageInput;\n","import React from \"react\";\n\nconst styles = {\n  container: {\n    width: \"100%\",\n  },\n  text: {\n    padding: \"10px 15px\",\n    maxWidth: \"100%\",\n    wordWrap: \"break-word\",\n    overflowWrap: \"anywhere\",\n  },\n};\n\nfunction UserRow({ username, isUser, color }) {\n  return (\n    <div style={styles.container}>\n      <div style={{ color, ...styles.text }}>\n        {username}\n        {isUser && \" (You)\"}\n      </div>\n    </div>\n  );\n}\n\nexport default UserRow;\n","import React from \"react\";\n\nconst styles = {\n  separator: {\n    borderStyle: \"solid\",\n    borderWidth: \"1px\",\n    borderColor: \"rgba(255, 255, 255, 1)\",\n    width: \"90%\",\n  },\n};\n\nfunction UserSeparator(props) {\n  return <div style={styles.separator}></div>;\n}\n\nexport default UserSeparator;\n","import React from \"react\";\nimport UserRow from \"./UserRow\";\nimport UserSeparator from \"./UserSeparator\";\n\nconst styles = {\n  container: {\n    backgroundColor: \"rgba(255, 255, 255, 0.6)\",\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\",\n    borderRadius: 25,\n    paddingTop: 5,\n    alignItems: \"center\",\n    overflowY: \"auto\",\n  },\n};\n\nfunction UsersPane({ users, username }) {\n  const getUserComponents = () => {\n    let userComponents = [];\n    let counter = 0;\n    users.forEach((user) => {\n      userComponents.push(\n        <UserRow\n          username={user.username}\n          isUser={user.username === username}\n          color={user.color}\n        />\n      );\n      userComponents.push(<UserSeparator />);\n      counter += 1;\n    });\n    userComponents.pop();\n    return userComponents;\n  };\n\n  return <div style={styles.container}>{getUserComponents()}</div>;\n}\n\nexport default UsersPane;\n","import React from \"react\";\n\nconst styles = {\n  container: {\n    marginLeft: 30,\n    fontSize: 14,\n    color: \"#ff1e1e\",\n  },\n};\n\nfunction ErrorMessage({ errorMessage }) {\n  return <span style={styles.container}>{errorMessage}</span>;\n}\n\nexport default ErrorMessage;\n","import React, { useEffect, useState } from \"react\";\nimport socketIOClient from \"socket.io-client\";\n\nimport MessagesPane from \"./MessagesPane\";\nimport MessageInput from \"./MessageInput\";\nimport UsersPane from \"./UsersPane\";\nimport ErrorMessage from \"./ErrorMessage\";\n\nconst styles = {\n  chatContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    flex: 5,\n    height: \"100%\",\n  },\n  chatHistory: {\n    flex: 1,\n    padding: 20,\n    overflowY: \"auto\",\n  },\n  inputContainer: {},\n  mainContainer: {\n    width: \"95%\",\n    maxWidth: 960,\n    flex: 1,\n    backgroundColor: \"#cde9e8\",\n    borderRadius: 25,\n    margin: \"20px 0px\",\n    overflow: \"hidden\",\n    display: \"flex\",\n  },\n  screen: {\n    display: \"flex\",\n    width: \"100vw\",\n    height: \"100vh\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    backgroundColor: \"#282c34\",\n  },\n  usersContainer: {\n    flex: 2,\n    padding: 20,\n    display: \"flex\",\n  },\n};\n\n// const ENDPOINT = \"http://127.0.0.1:5133\";\nconst ENDPOINT = \"http://136.159.5.25:5133\"; //CPSC server\n\nfunction AppContainer(props) {\n  const [socket, setSocket] = useState();\n  const [username, setUsername] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [connectedUsers, setConnectedUsers] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    setSocket(socketIOClient(ENDPOINT));\n    return () => socket.disconnect();\n  }, []);\n\n  useEffect(() => {\n    if (socket) {\n      const cookieUsername = getCookie(\"username\");\n      if (cookieUsername) {\n        socket.emit(\"user-command\", {\n          command: \"name\",\n          data: cookieUsername,\n        });\n      }\n\n      const cookieColor = getCookie(\"color\");\n      if (cookieColor) {\n        socket.emit(\"user-command\", { command: \"color\", data: cookieColor });\n      }\n\n      socket.on(\"set-username\", (data) => {\n        setUsername(data.username);\n        setCookie(\"username\", data.username);\n      });\n      socket.on(\"update-messages\", (messages) => setMessages(messages));\n      socket.on(\"update-users\", (users) => setConnectedUsers(users));\n      socket.on(\"handle-error\", (errorMessage) => {\n        setErrorMessage(errorMessage);\n        setTimeout(() => setErrorMessage(null), 3000);\n      });\n    }\n  }, [socket]);\n\n  useEffect(() => {\n    if (socket) {\n      const cookieUsername = getCookie(\"username\");\n      if (cookieUsername && cookieUsername !== username) {\n        socket.emit(\"user-command\", {\n          command: \"name\",\n          data: cookieUsername,\n        });\n      }\n\n      const cookieColor = getCookie(\"color\");\n      if (cookieColor) {\n        socket.emit(\"user-command\", { command: \"color\", data: cookieColor });\n      }\n    }\n  }, [username]);\n\n  const getCookie = (name) => {\n    const searchParam = name + \"=\";\n    const cookiesList = document.cookie.split(\";\");\n    for (let i = 0; i < cookiesList.length; i++) {\n      const cookie = cookiesList[i].trim();\n      if (cookie.startsWith(searchParam)) {\n        const cookieValue = cookie.split(\"=\")[1];\n        return cookieValue;\n      }\n    }\n    return null;\n  };\n\n  const setCookie = (name, value) => {\n    document.cookie = name + \"=\" + value + \";\";\n  };\n\n  const handleSendMessage = (message) => {\n    if (message[0] === \"/\") {\n      const command = message.split(\" \")[0].substring(1);\n      const data = message.substring(command.length + 1).trim();\n      socket.emit(\"user-command\", { command, data });\n      if (command === \"color\") {\n        setCookie(\"color\", data);\n      }\n    } else {\n      socket.emit(\"send-message\", { message: message });\n    }\n  };\n\n  return (\n    <div style={styles.screen}>\n      <div style={styles.mainContainer}>\n        <div style={styles.chatContainer}>\n          <div style={styles.chatHistory}>\n            <MessagesPane messages={messages} username={username} />\n          </div>\n          <div style={styles.inputContainer}>\n            {errorMessage && <ErrorMessage errorMessage={errorMessage} />}\n            <MessageInput onSendMessage={handleSendMessage} />\n          </div>\n        </div>\n        <div style={styles.usersContainer}>\n          <UsersPane users={connectedUsers} username={username} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AppContainer;\n","import React from \"react\";\n\nimport \"./App.css\";\nimport AppContainer from \"./components/AppContainer\";\n\nfunction App() {\n  return <AppContainer />;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}